>[!info] 이 책은 레벨업 리액트 프로그래밍 With NEXT.JS 책 내용을 정리한 것이다.
## 브라우저 병목현상

브라우저가 `DOM` 을 변경하는 자바스크립트를 만난다면, 렌더링 파이프라이의 일부를 재 계산해야 한다.

이는 재 계산 과정에서 성능의 병목현상을 일으킬수 있다.

1. **과도한 DOM 조작:** 자주 DOM 조작을 하면 `Layout` 단계에서 부터 렌더링을 반복 하므로, 성능 저하가 발생한다.
2. **비효율적인 이벤트 리스너:** 많은 이벤트 리스너는 이벤트 처리 시간을 증가시켜 성능을 저하한다.
3. **긴 실행 시간의 스크립트:** 오래 실행되는 자바스크립트는 페이지의 다른 부분을 대기 상태로 만들어 사용자 경험을 해친다.
4. **동기적 리소스 로딩:** 리소스를 동기적으로 로드하면 페이지 로드 시간이 길어진다.

## 리소스 관리 및 비동기 로딩 전략

웹 페이지 로딩 속도에 중요한 영향을 미치는 요소 중 하나는 리소스 로딩 방식이다.
>[!warning] 자바스크립트 파일이 크거나, 큰 CSS 파일은 로드 시간에 큰 영향을 준다

이러한 파일을 동기적으로 로드하면 전체 페이지 로딩 시간이 증가하고, 사용자 경험에 부정적인 영향을 미칠수 있다.

>[!info] 동기적 리소스 로딩이란 웹 페이지가 브라우저에 로드될때 필요한 스크립트, 스타일 시트, 이미지 등 리소스를 순차적으로 하나씩 로드하는 방식을 말한다.

이러한 동기적 방식의 로딩의 단점을 최소화하기 위해, 비동기 로딩 전략을 제공한다.

스크립트 파일을 다운로드할때 다음과 같은 속성을 사용할수 있다.

- **defer:** <br> `DOM` 생성과 상관없이, 백그라운드에서 `script File` 을 다운로드한다.<br>이는 `DOM` 이 생성되고, `DOMContentLoaded` 이전에 `script` 를 실행한다.
 >[!info] 즉, `defer` 는 `script File` 을 백그라운드에서 다운로드하고 `DOM` 생성 이후에 `script` 를 실행한다.

- **async:**  <br>`DOM` 생성과 상관없이, 백그라운드에서 `script File` 을 다운로드한다.<br>하지만 `defer` 와 는 다르게, `download` 되는 즉시, `script` 를 실행하며, 그로인해 `DOM` 생성이 중단될 수 있다.
>[!info] 이는 `DOM` 파싱 이전에 `download` 되었는지, 이후에 `download` 되었는지에 따라 다르다.
>
>`DOM` 생성 이전에 다운로드 되었다면, 스크립트를 즉시 실행시킴과 동시에 `DOM` 생성을 중단된다.
>
>반면, `DOM` 생성 이후에 다운로드 되었다면, 이는 `DOM` 중단없이 실행될 것이다.
>
>이를 다른말로 하면 `DOMContentLoaded` 실행 이후에 `script` 실행을 보장할수 없다고도 표현할수 있다.

