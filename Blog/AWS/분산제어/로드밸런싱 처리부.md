
---

>[!info] [[AWS 의 ELB]] 에서 이어진 내용이다.


`ELB` 의 특징은 다음과 같다

- `ELB` 의 패런트는 `VPC` 이다.

- `ELB` 유형에 따라 생명 주기 동안 연결 특성이 달라진다.<br> `ALB` 와 `CLB` 는 다른 요소에 연결할수 없으며, `NLB` 와 `GWLB` 는 엔드포인트 서비스에 연결할수 있다.

- `ELB` 생성과 동시에 `ELB` 용 `ENI` 가 생성된다.<br> 이렇게 생성된 `ENI` 를 `로드밸런서 노드`(`Load Balancer Node`) 라 한다.

- `Node` 생성 위치는 `ELB` 생성시 선택한 가용영역의 `Subnet` 이다.

- `가용 영역별` 1개의 `Subnet` 만 선택할수 있다. 즉 `가용영역별 1개 노드` 가 생성된다. 

- `ELB` 의 실제 역할은 `Node` 가 수행한다.<br>`Node` 는 각 가용영역에서 활동하는 `ELB` 의 특파원으로 비유할 수 있다.<br><br>클라이언트 요청을 받은 `ELB` 는 각 가용 영역에 대기중인 `Node` 로 명령을 내려 로드밸런싱을 수행하도록 한다.

- 각 가용영역의 `Node` 는 가용 영역의 모든 서브넷으로 로드밸런싱할 수 있다.

- 모든 가용역역을 선택하지 않아도 된다.<br>단, 선택한 가용 영역으로만 로드밸런싱을 할 수 있다.

- 클라이언트가 실제 접속하는 `ELB` 의 `IP` 는 엄밀히 말하 `Node` 의 `IP` 이다

- `ALB` 는 반드시 `2개 이상의 가용영역` 을 선택해야 한다 

![[가용영역 전체를 관할하는 ELB 노드.png]]

>[!info] `Subnet Only One` 이 적힌 문구 표시부분
`ALB` 는 `Available Zone` 당 1개의 `Subnet` 에 `Node` 를 연결할수 있다.

>[!info] `Attach to 2c-1` 이 적힌 문구 표시부분
`ENI` 는 `VPC` 종속적이라, 같은 `VPC` 라면 다른 `Availablity Zone` 의 `Subnet` 으로 `deatch` 한후 `Attach` 가능하다

`ALB` 는 위의 `ELB` 특징에 따라, 반드시 `가용영역` 이 총 `2개 이상` 이어야 한다.

이러한 특징을 보면 유형별 `가용영역` 의 특징이 나누어진다

| 특징                       | ALB               | NLB               | CLB               | GWLB              |
| :----------------------- | ----------------- | ----------------- | ----------------- | ----------------- |
| **가용 영역 선택 조건**          | 최소 2개             | 최소 1개             | 최소 1개             | 최소 1개             |
| **가용영역 별 선택 가능한 서브넷 개수** | 1개(=가용 영역별 노드 개수) | 1개(=가용 영역별 노드 개수) | 1개(=가용 영역별 노드 개수) | 1개(=가용 영역별 노드 개수) |
| **가용 영역 변경 범위**          | 모두 가능(추가, 변경, 삭제) | 추가만 가능            | 모두 가능(추가, 변경, 삭제) | 변경 불가             |

