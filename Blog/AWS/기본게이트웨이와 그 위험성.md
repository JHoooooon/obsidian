
---

다음처럼 VPC 인스턴스가 다수 인터넷 서버와 연동하는 상황을 가정해보자

![[인터넷 접속 대상 서버 확장.png]]

`92.75.100.128/32` 는 두개의 서버 `150.222.121.48/32`, `99.83.97.201/32` 와 두개의 대역`13.246.100.0/24`, `52.219.68.0/22` 과 인터넷 통신이 이루어진다.

>[!warning] 접속 대상이 한정되어 있다면 몰라도 IP 주소가 변경되거나 많이 늘어나면 라우팅을 매번 변경, 신규 등록해야 하는 일이 발생하므로 이 문제를 해결해야 한다고 한다

위같은 경우 다음처럼 처리가 가능하다.

![[기본게이트웨이 라우팅 사용.png]]

>[!info] `0.0.0.0/0` 을 `Destination` 으로 지정한 라우팅의 `Target` 을 `기본 게이트웨이`(`Default Gateway`) 라 부른다.<br><br> 이러한 라우팅(`0.0.0.0/0`, `IGW-*`) 을 `기본 라우팅`(`Default Rounting`) 이라 한다.


`기본 라우팅` 은 `Longest Prefix Match` 기법에 따라서 가장 후순위에 우선순위를 갖는다.
`기본 게이트웨이` 를 `Target` 으로 삼았다면, 이는 앞의 모든 `대상매칭` 에 실패했다는 말이다. 

위의 `기본 라우팅` 을 적용하면, 탐색횟수가 `5번` 에서 `3번` 으로 줄어드니 더 효율적인 라우팅이 가능하다

>[!warning] 하지만 이는 `모든 인터넷 IP` 통신을 열어둔것과 동일하다.
따라서 접속 대상 `CIDR` 가 명확하거나 `Mask Bit` 를 한정할수 있다면 기본 라우팅을 사용하면 안된다. <br><br> `기본 라우팅` 은 유용하나, 무분별하게 적용하는것에 유의 하는것이 좋다

