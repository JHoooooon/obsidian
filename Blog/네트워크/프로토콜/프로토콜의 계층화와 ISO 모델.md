
---

>[!info] 프로토콜 계층화
>`ISO` 는 `OSI 프로토콜` 을 표준화하기 전에 네트워크 아키텍처에 관한 논의를 충분히 한후, `통신 프로토콜` 을 설계할때의 지표로서 `OSI 참조 모델을 제안한다`

이러한 `OSI 참조모델` 은 `7 Layer` 로 이루어져 있는데, 기능을 분할함으로써 복잡해지기 쉬운 네트워크 프로토콜을 단순화한것이다.

각 **계층은 하위 계층으로 부터 상위 계층으로 서비스를 주고 받는데,** 이렇게 주고 받는 행위를 `Interface` 라고 한다.

그리고, **통신 상대가 같은 계층과 서비스를 주고 받을때의 약속을 `Protocol`** 이라 한다,

## OSI 참조모델

`OSI 참조모델` 은 다음과 같다

![[OSI 참조 모델.png]]

이 기능은 다음처럼 정리할 수 있다

| layer           | 기능                                                                   |
| :-------------- | :------------------------------------------------------------------- |
| 7. Application  | 특정 애플리케이션에 특화된 프로토콜                                                  |
| 6. Presentation | 기기 고유의 데이터 포멧과 네트워크 공통의 데이터 포멧 교환                                    |
| 5. Session      | 1. 통신관리<br>2.`커넥션(데이터가 흐르는 논리적인 통신로)` 확립 / 끊기<br>3. 트랜스포트 층 이하의 층 관리 |
| 4. Transport    | 1. 양끝 노드간의 데이터 전송관리<br>2. 데이터 전송의 신뢰성을 제공 (데이터를 상대에게 확실하게 보내는 역할)    |
| 3. Network      | 주소 관리와 경로 선택                                                         |
| 2. Data LInk    | 직접 연결된 기기간의 데이터 프레임의 식별 및 전송                                         |
| 1. Pysical      | `0` 과 `1` 을 전압의 고저나 빛의 점멸로 변환.<br>커넥터나 케이블 모양을 규정                    |

- **애플리케이션층**: 애플리케이션 중 통신과 관련된 부분을 정해놓고 있다. 전자메일, 원격 로그인 등을 실현하기 위한 프로토콜이 있다.

- **프레젠테이션 계층**: 애플리케이션이 취급하는 정보를 통신에 적합한 데이터 형식으로 만드거나 하위층으로부터 올라운데이터를 상위층이 처리할수 있는 데이터 형식으로 변환하는 등 데이터 형식과 관련된 책임을 가진다.

- **세션층**: 커넥션의 확립과 끊기, 전송할 데이터의 분량을 설정하는 등과 같은 데이터 전송에 관련된 역할을 한다.

- **트랜스포트층**: 수신처 애플리케이션에서 데이터를 확실하게 보내는 역할을 한다.<br> 통신을 숭행하는 양쪽 노드에서만 처리되고, 중간에 있는 라우터에서는 처리되지 않는다.

- **네트워크층**: 데이터를 수신처까지 보내는 역할을 한다.<br>수신처는 여러개의 네트워크 라우터로 연결된 곳에 잇는 경우도 있다<br>이러한 경우 주소 체계를 결정하거나 어느 경로를 사용할 것인지 등과 같이 경로를 선택하는 역할을 한다

- **데이터 링크층**: 물리층에서 직접적으로 연결된 노드 간, 예를 들어서 하나의 이더넷에 연결된 두 노드 사이에서 통신이 가능하게 하는 역할을 한다.

- **물리층**: 비트열(`0` 과 `1`) 을 전압의 고저 또는 빛의 점멸로 변환하거나, 반대로 전압의 고저 또는 빛의 점멸을 비트로 변환한다

## OSI 모델에 의한 통신처리 

>[!warning] 실제 인터넷의 전자메일은 `OSI 참조 모델`의 구조로 되어있지는 않다. `OSI 참조 모델`은 어디까지나 개념을 정리하기 위한 모델이다

![[OSI 참조모델 예.png]]

위는 `Sender` 가 `Reciver` 에게 `Packet` 을 어떻게 보내는지 보여주는 예이다

각 계층에서 하위 계층으로 내려갈때마다 `Packet` 에 `header` 가 부착되며, 각 계층에서 상위 계층으로 올라가면 `header`  를 없애며, 결국은 `Packet` 의 `data` 만 전달되는 구조임을 알수 있다

흥미로운 사실은 중간의 `Router` 에서 `Network` 계층의 패킷만을 확인후, `Packet` 의 `Heder` 를 변경해서 `Reciver` 로 보내는 행위이다

이를통해 `Router` 가 `목적지 주소` 로 `Packet` 의 `header` 내용을 변경하는것을 볼수 있다.

---

## 각 계층의 처리 프로세스

7. [[어플리케이션 처리 프로세스]]
6. [[프레젠테이션 층 프로세스]]]
5. [[Session 계층 처리 프로세스]]
